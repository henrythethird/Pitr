{% import "macros/tags.macro.html.twig" as tags %}
{% import "macros/state.macro.html.twig" as state %}

{% block body %}
    <button class="btn btn-default pull-right" data-toggle="modal" data-target="#addDocumentModal">
        <i class="glyphicon glyphicon-plus"></i> Add Document
    </button>
    <h1 class="text-center">{{ title }}</h1>

    <br>
    {% if documents|length %}
        <table class="table table-striped table-hover">
            <tr>
                <th>Name</th>
                <th>Created</th>
                <th class="text-right">Tags</th>
            </tr>
            {% for document in documents %}
                <tr class="pointer" onclick="document.location.href='{{ path('document_details', {'id': document.id }) }}'">
                    <td>
                        {{ document.name }}
                        {{ state.show(document) }}
                    </td>
                    <td>{{ document.dateCreated|date('d.m.Y H:i') }}</td>
                    <td class="text-right">
                        {% for tag in document.tags %}
                            {{ tags.show(tag) }}
                        {% endfor %}
                    </td>
                </tr>
            {% endfor %}
        </table>
    {% else %}
        <p class="text-center">
            No results
        </p>
    {% endif %}
{% endblock body %}